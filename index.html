<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ƒêi·ªÉm danh</title>

<style>
body{
  margin:0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont;
  background: linear-gradient(180deg,#f7fbff,#eaf3ff);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}

.app{
  background:#fff;
  width:380px;
  padding:24px;
  border-radius:24px;
  box-shadow:0 20px 40px rgba(0,0,0,.12);
}

h1{
  text-align:center;
  color:#1e3a8a;
  margin-bottom:24px;
}

.bar-list{
  display:flex;
  gap:20px;
  justify-content:center;
  align-items:flex-end;
  flex-wrap:wrap;
}

.bar-item{
  display:flex;
  flex-direction:column;
  align-items:center;
}

.bar{
  width:36px;
  height:200px;
  background:#e5e7eb;
  border-radius:999px;
  overflow:hidden;
  display:flex;
  align-items:flex-end;
}

.fill{
  width:100%;
  height:0%;
  border-radius:999px;
  transition:.25s;
}

.name{
  margin-top:8px;
  font-size:14px;
  color:#334155;
}

.controls{
  display:flex;
  gap:6px;
  margin-top:6px;
}

button{
  border:none;
  padding:4px 8px;
  border-radius:8px;
  background:#e0f2fe;
  color:#0369a1;
  font-weight:600;
  cursor:pointer;
}

button:hover{background:#bae6fd}

.footer{
  margin-top:20px;
  display:flex;
  justify-content:space-between;
}

.add-btn{
  background:#2563eb;
  color:white;
}
</style>
</head>

<body>
<div class="app">
  <h1>ƒêi·ªÉm danh</h1>

  <div class="bar-list" id="bars"></div>

  <div class="footer">
    <button class="add-btn" onclick="addBar()">+ Th√™m thanh</button>
    <button onclick="removeBar()">üóë X√≥a thanh</button>
  </div>
</div>

<script>
let data = JSON.parse(localStorage.getItem("diemdanh")) || [
  {name:"Vi·ªác 1", value:0},
  {name:"Vi·ªác 2", value:0}
];

function color(v){
  if(v<100) return "linear-gradient(180deg,#38bdf8,#2563eb)";
  if(v<200) return "linear-gradient(180deg,#34d399,#059669)";
  return "linear-gradient(180deg,#fb7185,#be123c)";
}

function render(){
  const c=document.getElementById("bars");
  c.innerHTML="";
  data.forEach((item,i)=>{
    const wrap=document.createElement("div");
    wrap.className="bar-item";

    const bar=document.createElement("div");
    bar.className="bar";

    const fill=document.createElement("div");
    fill.className="fill";
    fill.style.height=Math.min(item.value,300)+"%";
    fill.style.background=color(item.value);

    bar.appendChild(fill);

    const ctr=document.createElement("div");
    ctr.className="controls";

    const minus=document.createElement("button");
    minus.textContent="-1%";
    minus.onclick=()=>{item.value=Math.max(0,item.value-1);save()};

    const plus=document.createElement("button");
    plus.textContent="+1%";
    plus.onclick=()=>{item.value++;save()};

    ctr.append(minus,plus);

    const name=document.createElement("div");
    name.className="name";
    name.textContent=item.name;
    name.onclick=()=>{
      const n=prompt("ƒê·ªïi t√™n:",item.name);
      if(n){item.name=n;save();}
    };

    wrap.append(bar,ctr,name);
    c.appendChild(wrap);
  });
}

function save(){
  localStorage.setItem("diemdanh",JSON.stringify(data));
  render();
}

function addBar(){
  const name=prompt("T√™n vi·ªác:");
  if(!name) return;
  data.push({name,value:0});
  save();
}

function removeBar(){
  if(data.length===0) return;
  if(confirm("X√≥a thanh cu·ªëi?")){
    data.pop();
    save();
  }
}

render();
</script>
</body>
</html>
